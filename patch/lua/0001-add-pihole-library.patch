diff --git a/src/lua/linit.c b/src/lua/linit.c
index 69808f84..83b89555 100644
--- a/src/lua/linit.c
+++ b/src/lua/linit.c
@@ -50,6 +50,9 @@ static const luaL_Reg loadedlibs[] = {
   {LUA_STRLIBNAME, luaopen_string},
   {LUA_TABLIBNAME, luaopen_table},
   {LUA_UTF8LIBNAME, luaopen_utf8},
+  /****** Pi-hole modification ******/
+  {LUA_PIHOLELIBNAME, luaopen_pihole},
+  /**********************************/
   {NULL, NULL}
 };
 
diff --git a/src/lua/lua.c b/src/lua/lua.c
index 454ce12f..a363925c 100644
--- a/src/lua/lua.c
+++ b/src/lua/lua.c
@@ -616,7 +622,9 @@ static int pmain (lua_State *L) {
 }
 
 
-int main (int argc, char **argv) {
+/******* Pi-hole modification ********/
+int lua_main (int argc, char **argv) {
+/*************************************/
   int status, result;
   lua_State *L = luaL_newstate();  /* create state */
   if (L == NULL) {
diff --git a/src/lua/luac.c b/src/lua/luac.c
index 56ddc414..d7d219e4 100644
--- a/src/lua/luac.c
+++ b/src/lua/luac.c
@@ -194,7 +194,9 @@ static int pmain(lua_State* L)
  return 0;
 }
 
-int main(int argc, char* argv[])
+/******* Pi-hole modification ********/
+int luac_main(int argc, char* argv[])
+/*************************************/
 {
  lua_State* L;
  int i=doargs(argc,argv);
diff --git a/src/lua/lualib.h b/src/lua/lualib.h
index eb08b530..e6dfbf6c 100644
--- a/src/lua/lualib.h
+++ b/src/lua/lualib.h
@@ -44,6 +44,10 @@ LUAMOD_API int (luaopen_debug) (lua_State *L);
 #define LUA_LOADLIBNAME	"package"
 LUAMOD_API int (luaopen_package) (lua_State *L);
 
+/************ Pi-hole modification *************/
+#define LUA_PIHOLELIBNAME	"pihole"
+LUAMOD_API int (luaopen_pihole) (lua_State *L);
+/***********************************************/
 
 /* open all previous libraries */
 LUALIB_API void (luaL_openlibs) (lua_State *L);
